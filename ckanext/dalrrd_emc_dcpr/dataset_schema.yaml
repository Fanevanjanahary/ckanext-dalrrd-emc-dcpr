# custom dataset schema, as used by the ckanext-scheming extension:
#
# https://github.com/ckan/ckanext-scheming

scheming_version: 2
dataset_type: dataset
about: CKAN schema for the SASDI EMC. This schema holds SANS1878-related fields


dataset_fields:

  - field_name: title
    label: Title
    preset: title
    form_placeholder: eg. A descriptive title

  - field_name: name
    label: URL
    preset: dataset_slug
    form_placeholder: eg. my-dataset

  - field_name: notes
    label: Description
    form_snippet: markdown.html
    form_placeholder: eg. Some useful notes about the data

  - field_name: sasdi_theme
    label: SASDI Theme
    preset: select
    choices_helper: sasdi_themes

  - field_name: iso_topic_category
    label: Topic Category
    preset: select
    choices_helper: iso_topic_categories
    required: true
    help_text: ISO 19115 Topic Category for the dataset - This is a SANS 1878 mandatory field

  - field_name: tag_string
    label: Tags
    preset: tag_string_autocomplete
    form_placeholder: eg. economy, mental health, government

  - field_name: license_id
    label: License
    form_snippet: license.html
    help_text: License definitions and additional information can be found at http://opendefinition.org/

  - field_name: owner_org
    label: Organization
    preset: dataset_organization

  - field_name: url
    label: Source
    form_placeholder: http://example.com/dataset.json
    display_property: foaf:homepage
    display_snippet: link.html

  - field_name: reference_date
    label: Reference date
    required: true
    preset: date
    help_text: Reference date for this dataset - This is a SANS 1878 mandatory field

  - field_name: version
    label: Version
    validators: ignore_missing unicode package_version_validator
    form_placeholder: '1.0'

  - field_name: dataset_language
    label: Dataset language
    required: true
    choices:
      - value: en
        label: English
    preset: select
    help_text: Language for the dataset - This is a SANS 1878 mandatory field

  - field_name: metadata_language
    label: Metadata language
    required: true
    choices:
      - value: en
        label: English
    preset: select
    help_text: Language for the metadata - This is a SANS 1878 mandatory field

  - field_name: dataset_character_set
    label: Dataset character set
    required: true
    choices:
      - value: utf-8
        label: UTF-8
    preset: select
    help_text: Character set of the dataset - This is a SANS 1878 mandatory field

  # TODO: this should be set automatically
  - field_name: metadata_character_set
    label: Metadata character set
    required: true
    choices:
      - value: utf-8
        label: UTF-8
    preset: select
    help_text: Character set of the metadata - This is a SANS 1878 mandatory field

  - field_name: author
    label: Author
    form_placeholder: Joe Bloggs
    display_property: dc:creator

  - field_name: author_email
    label: Author Email
    form_placeholder: joe@example.com
    display_property: dc:creator
    display_snippet: email.html
    display_email_name_field: author

  - field_name: maintainer
    label: Maintainer
    form_placeholder: Joe Bloggs
    display_property: dc:contributor

  - field_name: maintainer_email
    label: Maintainer Email
    form_placeholder: joe@example.com
    display_property: dc:contributor
    display_snippet: email.html
    display_email_name_field: maintainer


resource_fields:

  - field_name: url
    label: URL
    preset: resource_url_upload

  - field_name: name
    label: Name
    form_placeholder: eg. January 2011 Gold Prices

  - field_name: description
    label: Description
    form_snippet: markdown.html
    form_placeholder: Some useful notes about the data

  - field_name: format
    label: Format
    preset: resource_format_autocomplete
